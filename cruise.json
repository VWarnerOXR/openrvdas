{
    "modes": {
        "port": {
            "eng1": {
                "writers": {
                    "class": "ComposedWriter",
                    "kwargs": {
                        "writers": {
                            "class": "NetworkWriter",
                            "kwargs": {
                                "network": ":6224"
                            }
                        },
                        "transforms": {
                            "class": "PrefixTransform",
                            "kwargs": {
                                "prefix": "eng1"
                            }
                        }
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_eng1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "eng1->net"
            },
            "s330": {
                "writers": {
                    "class": "ComposedWriter",
                    "kwargs": {
                        "writers": {
                            "class": "NetworkWriter",
                            "kwargs": {
                                "network": ":6224"
                            }
                        },
                        "transforms": {
                            "class": "PrefixTransform",
                            "kwargs": {
                                "prefix": "s330"
                            }
                        }
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_s330"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "s330->net"
            },
            "gyr1": {
                "writers": {
                    "class": "ComposedWriter",
                    "kwargs": {
                        "writers": {
                            "class": "NetworkWriter",
                            "kwargs": {
                                "network": ":6224"
                            }
                        },
                        "transforms": {
                            "class": "PrefixTransform",
                            "kwargs": {
                                "prefix": "gyr1"
                            }
                        }
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_gyr1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "gyr1->net"
            },
            "mwx1": {
                "writers": {
                    "class": "ComposedWriter",
                    "kwargs": {
                        "writers": {
                            "class": "NetworkWriter",
                            "kwargs": {
                                "network": ":6224"
                            }
                        },
                        "transforms": {
                            "class": "PrefixTransform",
                            "kwargs": {
                                "prefix": "mwx1"
                            }
                        }
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_mwx1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "mwx1->net"
            }
        },
        "underway_no_network": {
            "eng1": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/eng1/raw/NBP1700_eng1"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_eng1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "eng1->file"
            },
            "s330": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/s330/raw/NBP1700_s330"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_s330"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "s330->file"
            },
            "rtmp": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/rtmp/raw/NBP1700_rtmp"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_rtmp"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "rtmp->file"
            },
            "knud": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/knud/raw/NBP1700_knud"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_knud"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "knud->file"
            },
            "gyr1": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/gyr1/raw/NBP1700_gyr1"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_gyr1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "gyr1->file"
            },
            "mwx1": {
                "writers": {
                    "class": "LogfileWriter",
                    "kwargs": {
                        "filebase": "/tmp/log/NBP1700/mwx1/raw/NBP1700_mwx1"
                    }
                },
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_mwx1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "mwx1->file"
            }
        },
        "off": {},
        "underway": {
            "eng1": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/eng1/raw/NBP1700_eng1"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "eng1"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "eng1"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_eng1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "eng1->net/file/db"
            },
            "s330": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/s330/raw/NBP1700_s330"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "s330"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "s330"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_s330"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "s330->net/file/db"
            },
            "rtmp": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/rtmp/raw/NBP1700_rtmp"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "rtmp"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "rtmp"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_rtmp"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "rtmp->net/file/db"
            },
            "qc_logger": {
                "writers": {
                    "class": "TextFileWriter"
                },
                "readers": {
                    "class": "NetworkReader",
                    "kwargs": {
                        "network": ":6224"
                    }
                },
                "transforms": [
                    {
                        "class": "ParseNMEATransform"
                    },
                    {
                        "class": "QCFilterTransform",
                        "kwargs": {
                            "bounds": "CWNCTension:-150:10000,CWNCPayout:-6000:100000,EngPowerVoltage:11:13"
                        }
                    }
                ],
                "name": "qc_logger"
            },
            "knud": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/knud/raw/NBP1700_knud"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "knud"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "knud"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_knud"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "knud->net/file/db"
            },
            "gyr1": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/gyr1/raw/NBP1700_gyr1"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "gyr1"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "gyr1"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_gyr1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "gyr1->net/file/db"
            },
            "mwx1": {
                "writers": [
                    {
                        "class": "LogfileWriter",
                        "kwargs": {
                            "filebase": "/tmp/log/NBP1700/mwx1/raw/NBP1700_mwx1"
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "NetworkWriter",
                                "kwargs": {
                                    "network": ":6224"
                                }
                            },
                            "transforms": {
                                "class": "PrefixTransform",
                                "kwargs": {
                                    "prefix": "mwx1"
                                }
                            }
                        }
                    },
                    {
                        "class": "ComposedWriter",
                        "kwargs": {
                            "writers": {
                                "class": "DatabaseWriter",
                                "kwargs": {
                                    "create_if_missing": true
                                }
                            },
                            "transforms": [
                                {
                                    "class": "PrefixTransform",
                                    "kwargs": {
                                        "prefix": "mwx1"
                                    }
                                },
                                {
                                    "class": "ParseNMEATransform"
                                }
                            ]
                        }
                    }
                ],
                "readers": {
                    "class": "SerialReader",
                    "kwargs": {
                        "baudrate": 9600,
                        "port": "/tmp/tty_mwx1"
                    }
                },
                "transforms": {
                    "class": "TimestampTransform"
                },
                "name": "mwx1->net/file/db"
            }
        }
    },
    "cruise": {
        "start": "2017-01-01",
        "id": "NBP1700",
        "end": "2017-02-01"
    },
    "vars": {
        "%UW_INST%": [
            "knud",
            "rtmp"
        ],
        "%END_DATE%": "2017-02-01",
        "%PORT_INST%": [
            "gyr1",
            "mwx1",
            "s330",
            "eng1"
        ],
        "%LOGFILE_BASE%": "/tmp/log/%CRUISE%",
        "%CRUISE%": "NBP1700",
        "%START_DATE%": "2017-01-01",
        "%INST%": [
            "knud",
            "gyr1",
            "mwx1",
            "s330",
            "eng1",
            "rtmp"
        ],
        "%UDP_PORT%": ":6224",
        "%QC_LIMITS%": "CWNCTension:-150:10000,CWNCPayout:-6000:100000,EngPowerVoltage:11:13"
    },
    "templates": {
        "%INST%_LOGFILE_WRITER": {
            "class": "LogfileWriter",
            "kwargs": {
                "filebase": "%LOGFILE_BASE%/%INST%/raw/%CRUISE%_%INST%"
            }
        },
        "%INST%_SERIAL_LOGGER_NO_NETWORK": {
            "writers": "%INST%_LOGFILE_WRITER",
            "readers": {
                "class": "SerialReader",
                "kwargs": {
                    "baudrate": 9600,
                    "port": "/tmp/tty_%INST%"
                }
            },
            "transforms": {
                "class": "TimestampTransform"
            },
            "name": "%INST%->file"
        },
        "%INST%_NETWORK_WRITER": {
            "class": "ComposedWriter",
            "kwargs": {
                "writers": {
                    "class": "NetworkWriter",
                    "kwargs": {
                        "network": "%UDP_PORT%"
                    }
                },
                "transforms": {
                    "class": "PrefixTransform",
                    "kwargs": {
                        "prefix": "%INST%"
                    }
                }
            }
        },
        "%INST%_SERIAL_LOGGER_NO_WRITE": {
            "writers": "%INST%_NETWORK_WRITER",
            "readers": {
                "class": "SerialReader",
                "kwargs": {
                    "baudrate": 9600,
                    "port": "/tmp/tty_%INST%"
                }
            },
            "transforms": {
                "class": "TimestampTransform"
            },
            "name": "%INST%->net"
        },
        "%QC_LOGGER%": {
            "writers": {
                "class": "TextFileWriter"
            },
            "readers": {
                "class": "NetworkReader",
                "kwargs": {
                    "network": "%UDP_PORT%"
                }
            },
            "transforms": [
                {
                    "class": "ParseNMEATransform"
                },
                {
                    "class": "QCFilterTransform",
                    "kwargs": {
                        "bounds": "%QC_LIMITS%"
                    }
                }
            ],
            "name": "qc_logger"
        },
        "%INST%_DATABASE_WRITER": {
            "class": "ComposedWriter",
            "kwargs": {
                "writers": {
                    "class": "DatabaseWriter",
                    "kwargs": {
                        "create_if_missing": true
                    }
                },
                "transforms": [
                    {
                        "class": "PrefixTransform",
                        "kwargs": {
                            "prefix": "%INST%"
                        }
                    },
                    {
                        "class": "ParseNMEATransform"
                    }
                ]
            }
        },
        "%INST%_SERIAL_LOGGER": {
            "writers": [
                "%INST%_LOGFILE_WRITER",
                "%INST%_NETWORK_WRITER",
                "%INST%_DATABASE_WRITER"
            ],
            "readers": {
                "class": "SerialReader",
                "kwargs": {
                    "baudrate": 9600,
                    "port": "/tmp/tty_%INST%"
                }
            },
            "transforms": {
                "class": "TimestampTransform"
            },
            "name": "%INST%->net/file/db"
        },
        "%INST%_NETWORK_LOGGER": {
            "writers": "%INST%_LOGFILE_WRITER",
            "readers": {
                "class": "SerialReader",
                "kwargs": {
                    "baudrate": 9600,
                    "port": "/tmp/tty_%INST%"
                }
            },
            "transforms": {
                "class": "TimestampTransform"
            },
            "name": "%INST%->file"
        }
    },
    "default_mode": "off"
}
